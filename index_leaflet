<!DOCTYPE html>
<html>

<head>
  <title>El Sendero Pacifico Web Map</title>
  <!-- Add Leaflet library and styles -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>

  <!-- Add CSS styling info for the map -->
  <style type="text/css">
  </style>

  <!-- Adding styling info for page layout by reading in a CSS file -->
  <link rel="stylesheet" href="styles.css"></link>

</head>

<body>
  <div style='display: flex ; align-items: center;' id='header'>
    <div style='flex:1;margin-left:1%;margin-right:2%'>
      <img id='logo-wtn' src="media/WTN_Logo.png" alt="Logo - World Trails Network" width = '100'>
    </div>
    <div style='flex:6;margin-left:2%'>
      <h1 id='title'>El Sendero Pacifico<br>Webmap, V1 by <a href=https://andrewhostetler.weebly.com>A.Hostetler</a></h1>
    </div>
  </div>

  <!-- Container for map -->
  <div id='map'></div>

  <script>
  var map = L.map('map').setView([10.179884269771113, -84.8930106936106], 11);

  // load tile layer
    L.tileLayer('https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=043e839ea61f489cb15e6981706e65f2', {
      	attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 17,
        minZoom: 9
      }).addTo(map);

    L.control.scale().addTo(map);

  // Add function to bind popups to each line features - idealy this would be run for each of these imports
    function onEachFeature(feature, layer) {
      layer.bindPopup(feature.properties.name);
    };

  // Add geojson - Madre Trail
    var trails = $.getJSON("https://theahostetler.github.io/El-Sendero-Pacifico/Data/SenderoPacifico_TrailMadre.geojson",function(data){
      L.geoJson(data,{
        onEachFeature: onEachFeature, color:"green", weight: 5, dashArray: "5,10"
      }).addTo(map);
    });
    
  </script>

</body>

</html>
